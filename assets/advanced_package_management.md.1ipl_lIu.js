import{_ as s,c as i,o as a,U as n}from"./chunks/framework.vKaV7pYm.js";const c=JSON.parse('{"title":"åŒ…ç®¡ç†","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"advanced/package_management.md","filePath":"advanced/package_management.md","lastUpdated":1704979746000}'),h={name:"advanced/package_management.md"},t=n(`<h1 id="åŒ…ç®¡ç†" tabindex="-1">åŒ…ç®¡ç† <a class="header-anchor" href="#åŒ…ç®¡ç†" aria-label="Permalink to &quot;åŒ…ç®¡ç†&quot;">â€‹</a></h1><p>éšç€ <code>0.11</code> çš„å‘å¸ƒï¼Œzig ç»ˆäºè¿æ¥äº†ä¸€ä¸ªæ­£å¼çš„å®˜æ–¹åŒ…ç®¡ç†å™¨ï¼Œæ­¤å‰å·²çŸ¥æ˜¯é€šè¿‡ç¬¬ä¸‰æ–¹åŒ…ç®¡ç†å™¨ä¸‹è½½å¹¶å¤„ç†åŒ…ã€‚</p><p>zig å½“å‰å¹¶æ²¡æœ‰ä¸€ä¸ªä¸­å¿ƒåŒ–å­˜å‚¨åº“ï¼ŒåŒ…å¯ä»¥æ¥è‡ªä»»ä½•æ¥æºï¼Œæ— è®ºæ˜¯æœ¬åœ°è¿˜æ˜¯ç½‘ç»œä¸Šã€‚</p><p>å½“å‰çš„åŒ…ç®¡ç†æ¨¡å¼ä¸ºï¼Œå…ˆåœ¨ <code>build.zig.zon</code> æ·»åŠ åŒ…çš„å…ƒä¿¡æ¯ï¼Œç„¶ååœ¨ <code>build.zig</code> ä¸­å¼•å…¥åŒ…ã€‚</p><h2 id="æ–°çš„æ–‡ä»¶ç»“æ„" tabindex="-1">æ–°çš„æ–‡ä»¶ç»“æ„ <a class="header-anchor" href="#æ–°çš„æ–‡ä»¶ç»“æ„" aria-label="Permalink to &quot;æ–°çš„æ–‡ä»¶ç»“æ„&quot;">â€‹</a></h2><p><code>build.zig.zon</code> è¿™ä¸ªæ–‡ä»¶å­˜å‚¨äº†åŒ…çš„ä¿¡æ¯ï¼Œå®ƒæ˜¯ zig æ–°å¼•å…¥çš„ä¸€ç§ç®€å•æ•°æ®äº¤æ¢æ ¼å¼ï¼Œä½¿ç”¨äº† zig çš„åŒ¿åç»“æ„å’Œæ•°ç»„åˆå§‹åŒ–è¯­æ³•ã€‚</p><div class="language-zig vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;my_package_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.1.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = .{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">dep_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = .{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://link.to/dependency.tar.gz&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">hash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;12200f41f9804eb9abff259c5d0d84f27caa0a25e0f72451a0243a806c8f94fdc433&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¿™é‡Œçš„ paths å­—æ®µæ˜¯å½“å‰ nightly ç‰ˆæœ¬æ–°å¼•å…¥çš„</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å®ƒç”¨äºæ˜¾å¼å£°æ˜åŒ…å«çš„æºæ–‡ä»¶ï¼Œå¦‚æœåŒ…å«å…¨éƒ¨åˆ™æŒ‡å®šä¸ºç©º</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">paths</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = .{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ä»¥ä¸Šå­—æ®µå«ä¹‰ä¸ºï¼š</p><ul><li><code>name</code>ï¼šå½“å‰ä½ æ‰€å¼€å‘çš„åŒ…çš„åå­—</li><li><code>version</code>ï¼šåŒ…çš„ç‰ˆæœ¬ï¼Œä½¿ç”¨ <a href="https://semver.org/" target="_blank" rel="noreferrer">Semantic Version</a>ã€‚</li><li><code>dependencies</code>ï¼šä¾èµ–é¡¹ï¼Œå†…éƒ¨æ˜¯ä¸€è¿ä¸²çš„åŒ¿åç»“æ„ä½“ï¼Œå­—æ®µ <code>dep_name</code> æ˜¯ä¾èµ–åŒ…çš„åå­—ï¼Œ<code>url</code> æ˜¯æºä»£ç åœ°å€ï¼Œ<code>hash</code> æ˜¯å¯¹åº”çš„ hashï¼ˆæºæ–‡ä»¶å†…å®¹çš„ hashï¼‰ã€‚</li><li><code>paths</code>ï¼šæ˜¾å¼å£°æ˜åŒ…å«çš„æºæ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰åˆ™æŒ‡å®šä¸ºç©ºï¼Œå½“å‰ä»… <code>nightly</code> å¯ç”¨ã€‚</li></ul><p>ç›®å‰ä¸ºæ­¢ï¼Œ<code>0.11</code> ç‰ˆæœ¬æ”¯æŒä¸¤ç§æ‰“åŒ…æ ¼å¼çš„æºæ–‡ä»¶ï¼š<code>tar.gz</code> å’Œ <code>tar.xz</code>ã€‚</p><div class="info custom-block"><p class="custom-block-title">ğŸ…¿ï¸ æç¤º</p><p>å°æŠ€å·§ï¼šå¦‚ä½•ç›´æ¥ä½¿ç”¨æŒ‡å®šåˆ†æ”¯çš„æºç ï¼Ÿ</p><p>å¦‚æœä»£ç æ‰˜ç®¡å¹³å°æä¾›åˆ†æ”¯æºç æ‰“åŒ…ç›´æ¥è¿”å›åŠŸèƒ½ï¼Œå°±æ”¯æŒï¼Œä¾‹å¦‚ github çš„æºç åˆ†æ”¯æ‰“åŒ…è¿”å›çš„ url æ ¼å¼ä¸ºï¼š</p><p><code>https://github.com/username/repo-name/archive/branch.tar.gz</code></p><p>å…¶ä¸­çš„ <code>username</code> å°±æ˜¯ç»„ç»‡åæˆ–è€…ç”¨æˆ·åï¼Œ<code>repo-name</code> å°±æ˜¯å¯¹åº”çš„ä»“åº“åï¼Œ<code>branch</code> å°±æ˜¯åˆ†æ”¯åã€‚</p><p>ä¾‹å¦‚ <code>https://github.com/limine-bootloader/limine-zig/archive/trunk.tar.gz</code> å°±æ˜¯è·å– <a href="https://github.com/limine-bootloader/limine-zig" target="_blank" rel="noreferrer">limine-zig</a> è¿™ä¸ªåŒ…çš„ä¸»åˆ†æ”¯æºç æ‰“åŒ…ã€‚</p></div><div class="info custom-block"><p class="custom-block-title">ğŸ…¿ï¸ æç¤º</p><p>å½“å‰ <code>nightly</code> çš„ zig æ”¯æŒé€šè¿‡ <a href="./../environment/zig-command.html#zig-fetch"><code>zig fetch</code></a> æ¥è·å– hash å¹¶å†™å…¥åˆ° <code>.zon</code> ä¸­ï¼</p></div><h2 id="ç¼–å†™åŒ…" tabindex="-1">ç¼–å†™åŒ… <a class="header-anchor" href="#ç¼–å†™åŒ…" aria-label="Permalink to &quot;ç¼–å†™åŒ…&quot;">â€‹</a></h2><div class="info custom-block"><p class="custom-block-title">ğŸ…¿ï¸ æç¤º</p><p>zig æ”¯æŒåœ¨ä¸€ä¸ª <code>build.zig</code> ä¸­å¯¹å¤–æš´éœ²å‡ºå¤šä¸ªæ¨¡å—ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªåŒ…æœ¬èº«å¯ä»¥åŒ…å«å¤šä¸ªæ¨¡å—ï¼Œå¹¶ä¸” <code>lib</code> å’Œ <code>executable</code> ä¸¤ç§æ˜¯å®Œå…¨å¯ä»¥å…±å­˜çš„ï¼</p></div><p>å¦‚ä½•å°†æ¨¡å—å¯¹å¤–æš´éœ²å‘¢ï¼Ÿ</p><p>å¯ä»¥ä½¿ç”¨ <code>build</code> å‡½æ•°ä¼ å…¥çš„å‚æ•° <code>b: *std.Build</code>ï¼Œå®ƒåŒ…å«ä¸€ä¸ªæ–¹æ³• <a href="https://ziglang.org/documentation/master/std/#A;std:Build.addModule" target="_blank" rel="noreferrer"><code>addModule</code></a>ï¼Œ å®ƒçš„åŸå‹å¦‚ä¸‹ï¼š</p><div class="language-zig vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> addModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> u8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">CreateModuleOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Module</span></span></code></pre></div><p>ä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œä¾‹å¦‚ï¼š</p><div class="language-zig vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;std&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">pub</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> lib_module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;package&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, .{ .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">source_file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = .{ .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;lib.zig&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } });</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    _</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">lib_module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>æ³¨æ„ï¼šzig <code>nightly</code> å·²ç»å°†ä¸Šæ–¹ä»£ç ä¸­çš„ <code>source_file</code> å­—æ®µæ›´æ¢ä¸º <code>root_source_file</code> ï¼</p></div><p>è¿™å°±æ˜¯ä¸€ä¸ªæœ€åŸºæœ¬çš„åŒ…æš´éœ²å®ç°ï¼Œé€šè¿‡ <code>addModule</code> å‡½æ•°æš´éœ²çš„æ¨¡å—æ˜¯å®Œå…¨å…¬å¼€çš„ã€‚</p><div class="info custom-block"><p class="custom-block-title">ğŸ…¿ï¸ æç¤º</p><p>å¦‚æœéœ€è¦ä½¿ç”¨ç§æœ‰çš„æ¨¡å—ï¼Œè¯·ä½¿ç”¨ <a href="https://ziglang.org/documentation/master/std/#A;std:Build.createModule" target="_blank" rel="noreferrer"><code>std.Build.createModule</code></a>ï¼Œä½¿ç”¨æ–¹å¼å’Œ <code>addModule</code> åŒç†ã€‚</p><p>å…³äºäºŒè¿›åˆ¶æ„å»ºç»“æœï¼ˆä¾‹å¦‚åŠ¨æ€é“¾æ¥åº“å’Œé™æ€é“¾æ¥åº“ï¼‰ï¼Œä»»ä½•è¢«æ‰§è¡Œ <code>install</code> æ“ä½œçš„æ„å»ºç»“æœå‡ä¼šè¢«æš´éœ²å‡ºå»ï¼ˆå³å¼•å…¥è¯¥åŒ…çš„é¡¹ç›®å‡å¯çœ‹åˆ°è¯¥åŒ…çš„æ„å»ºç»“æœï¼Œä½†éœ€è¦æ‰‹åŠ¨ link ï¼‰ã€‚</p></div><h2 id="å¼•å…¥åŒ…" tabindex="-1">å¼•å…¥åŒ… <a class="header-anchor" href="#å¼•å…¥åŒ…" aria-label="Permalink to &quot;å¼•å…¥åŒ…&quot;">â€‹</a></h2><p>å¯ä»¥ä½¿ç”¨ <code>build</code> å‡½æ•°ä¼ å…¥çš„å‚æ•° <code>b: *std.Build</code>ï¼Œå®ƒåŒ…å«ä¸€ä¸ªæ–¹æ³• <a href="https://ziglang.org/documentation/master/std/#A;std:Build.dependency" target="_blank" rel="noreferrer"><code>dependency</code></a>ï¼Œ å®ƒçš„åŸå‹å¦‚ä¸‹ï¼š</p><div class="language-zig vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> u8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">anytype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Dependency</span></span></code></pre></div><p>å…¶ä¸­ <code>name</code> æ˜¯åœ¨åœ¨ <code>.zon</code> ä¸­çš„åŒ…åå­—ï¼Œå®ƒè¿”å›ä¸€ä¸ª <a href="https://ziglang.org/documentation/master/std/#A;std:Build.Dependency" target="_blank" rel="noreferrer"><code>*std.Build.Dependency</code></a>ï¼Œå¯ä»¥ä½¿ç”¨ <code>artifact</code> å’Œ <code>module</code> æ–¹æ³•æ¥è®¿é—®åŒ…çš„é“¾æ¥åº“å’Œæš´éœ²çš„ <code>module</code>ã€‚</p><div class="language-zig vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;std&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">pub</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // é»˜è®¤æ„å»ºç›®æ ‡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">standardTargetOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(.{});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // é»˜è®¤ä¼˜åŒ–æ¨¡å¼</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> optimize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">standardOptimizeOption</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(.{});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è·å–åŒ…</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;package_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, .{});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è·å–åŒ…æ„å»ºçš„libraryï¼Œä¾‹å¦‚é“¾æ¥åº“</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> library_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">artifact</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;library_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è·å–åŒ…æä¾›çš„æ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> module_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;module_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> exe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addExecutable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(.{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;my_binary&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">root_source_file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = .{ .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/main.zig&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">optimize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">optimize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¼•å…¥æ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    exe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;module_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">module_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // é“¾æ¥ä¾èµ–æä¾›çš„åº“</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    exe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">linkLibrary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">library_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>å¦‚æœéœ€è¦å¼•å…¥ä¸€ä¸ªæœ¬åœ°åŒ…ï¼ˆä¸”è¯¥åŒ…è‡ªå·±æœ‰ <code>build.zig</code>ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ <a href="https://ziglang.org/documentation/master/std/#A;std:Build.anonymousDependency" target="_blank" rel="noreferrer"><code>std.Build.anonymousDependency</code></a>ï¼Œ å®ƒçš„åŸå‹ä¸ºï¼š</p><div class="language-zig vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> anonymousDependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">relative_build_root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> u8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comptime</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> build_zig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">anytype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Dependency</span></span></code></pre></div><p>å‚æ•°ä¸ºåŒ…çš„åŒ…æ„å»ºæ ¹ç›®å½•å’Œé€šè¿‡ <code>@import</code> å¯¼å…¥çš„åŒ…çš„ <code>build.zig</code> ã€‚</p><div class="info custom-block"><p class="custom-block-title">ğŸ…¿ï¸ æç¤º</p><p><code>dependency</code> å’Œ <code>anonymousDependency</code> éƒ½åŒ…å«ä¸€ä¸ªé¢å¤–çš„å‚æ•° <code>args</code>ï¼Œè¿™æ˜¯ä¼ ç»™å¯¹åº”çš„åŒ…æ„å»ºçš„å‚æ•°ï¼ˆç±»ä¼¼åœ¨å‘½ä»¤è¡Œæ„å»ºæ—¶ä½¿ç”¨çš„ <code>-D</code> å‚æ•°ï¼Œé€šå¸¸æ˜¯æˆ‘ä»¬ä½¿ç”¨ <code>b.options</code> è·å–ï¼Œé€šè¿‡ <a href="https://ziglang.org/documentation/master/std/#A;std:Build.option" target="_blank" rel="noreferrer"><code>std.Build.option</code></a> å®ç°ï¼‰ï¼Œå½“å‰åŒ…çš„å‚æ•°å¹¶ä¸ä¼šå‘åŒ…ä¼ é€’ï¼Œéœ€è¦æ‰‹åŠ¨æ˜¾å¼æŒ‡å®šè½¬å‘ã€‚</p></div><p>TODOï¼šæ›´å¤šç¤ºä¾‹è¯´æ˜</p>`,32),l=[t];function p(k,e,d,E,r,g){return a(),i("div",null,l)}const y=s(h,[["render",p]]);export{c as __pageData,y as default};
