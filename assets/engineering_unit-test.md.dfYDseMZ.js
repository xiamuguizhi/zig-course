import{_ as s,c as i,o as a,U as n}from"./chunks/framework.vKaV7pYm.js";const F=JSON.parse('{"title":"å•å…ƒæµ‹è¯•","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"engineering/unit-test.md","filePath":"engineering/unit-test.md","lastUpdated":1704979746000}'),h={name:"engineering/unit-test.md"},t=n(`<h1 id="å•å…ƒæµ‹è¯•" tabindex="-1">å•å…ƒæµ‹è¯• <a class="header-anchor" href="#å•å…ƒæµ‹è¯•" aria-label="Permalink to &quot;å•å…ƒæµ‹è¯•&quot;">â€‹</a></h1><blockquote><p>åœ¨è®¡ç®—æœºç¼–ç¨‹ä¸­ï¼Œå•å…ƒæµ‹è¯•ï¼ˆè‹±è¯­ï¼šUnit Testingï¼‰åˆç§°ä¸ºæ¨¡å—æµ‹è¯•æ¥æºè¯·æ±‚ï¼Œæ˜¯é’ˆå¯¹ç¨‹åºæ¨¡å—ï¼ˆè½¯ä»¶è®¾è®¡çš„æœ€å°å•ä½ï¼‰æ¥è¿›è¡Œæ­£ç¡®æ€§æ£€éªŒçš„æµ‹è¯•å·¥ä½œã€‚ç¨‹åºå•å…ƒæ˜¯åº”ç”¨çš„æœ€å°å¯æµ‹è¯•éƒ¨ä»¶ã€‚</p></blockquote><h2 id="åŸºæœ¬ä½¿ç”¨" tabindex="-1">åŸºæœ¬ä½¿ç”¨ <a class="header-anchor" href="#åŸºæœ¬ä½¿ç”¨" aria-label="Permalink to &quot;åŸºæœ¬ä½¿ç”¨&quot;">â€‹</a></h2><p>åœ¨ zig ä¸­ï¼Œå•å…ƒæµ‹è¯•çš„æ˜¯å®ç°éå¸¸ç®€å•ï¼Œåªéœ€è¦ä½¿ç”¨ <code>test</code> å…³é”®å­— + å­—ç¬¦ä¸²ï¼ˆæµ‹è¯•åå­—ï¼Œä¸€èˆ¬å¡«æµ‹è¯•çš„ç”¨é€”ï¼‰+ å—å³å¯ã€‚</p><div class="language-zig vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;std&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;expect addOne adds one to 41&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ ‡å‡†åº“æä¾›äº†ä¸å°‘æœ‰ç”¨çš„å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // testing ä¸‹çš„å‡½æ•°å‡æ˜¯æµ‹è¯•ä½¿ç”¨çš„</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // expect ä¼šå‡å®šå…¶å‚æ•°ä¸º trueï¼Œå¦‚æœä¸é€šè¿‡åˆ™æŠ¥å‘Šé”™è¯¯</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // try ç”¨äºå½“ expect è¿”å›é”™è¯¯æ—¶ï¼Œç›´æ¥è¿”å›ï¼Œå¹¶é€šçŸ¥æµ‹è¯•è¿è¡Œå™¨æµ‹è¯•ç»“æœæœªé€šè¿‡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">testing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addOne</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">41</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 42</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">test</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> addOne</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // test çš„åå­—ä¹Ÿå¯ä»¥ä½¿ç”¨æ ‡è¯†ç¬¦ï¼Œä¾‹å¦‚æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨çš„å°±æ˜¯å‡½æ•°åå­— addOne</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">testing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addOne</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">41</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 42</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/// å®šä¹‰ä¸€ä¸ªå‡½æ•°æ•ˆæœæ˜¯ç»™ä¼ å…¥çš„å‚æ•°æ‰§è¡ŒåŠ ä¸€æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> addOne</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">i32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">i32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>å‡è®¾ä»¥ä¸Šè¿™æ®µä»£ç åœ¨æ–‡ä»¶ <code>testing_introduction.zig</code> ä¸­ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥è¿™æ ·å­æ¥æ‰§è¡Œæ£€æµ‹ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zig</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> testing_introduction.zig</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1/2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test.expect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> addOne</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> adds</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> one</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 41</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2/2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> decltest.addOne...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">All</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tests</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> passed.</span></span></code></pre></div><p>æˆ‘ä»¬é€šè¿‡ <code>zig test</code> è¿™ä¸ªå‘½ä»¤æ¥æ‰§è¡Œå•ä¸ªæ–‡ä»¶çš„ testï¼Œå®ƒé»˜è®¤ä¼šä½¿ç”¨æ ‡å‡†åº“æä¾›çš„â€œæµ‹è¯•å™¨â€ï¼Œæºç ä½äº <code>lib/test_runner.zig</code>ã€‚</p><div class="info custom-block"><p class="custom-block-title">ğŸ…¿ï¸ æç¤º</p><p>å½“æµ‹è¯•åå­—æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦æ—¶ï¼Œå°†ä¼šè¾“å‡ºç±»ä¼¼ <code>decltest.addOne...</code> è¿™ç§ä¿¡æ¯ï¼Œå¼€å¤´å°†ä¼šæ˜¯ decltestã€‚</p><p>äº‹å®ä¸Šï¼Œæµ‹è¯•å—å…·æœ‰éšå¼çš„è¿”å›å€¼ç±»å‹ <code>anyerror!void</code>ï¼Œå¹¶ä¸”æµ‹è¯•åœ¨æ­£å¸¸æ„å»ºæ—¶ä¼šè¢«å¿½ç•¥ã€‚</p><p>å½“æµ‹è¯•å¤±è´¥æ—¶ï¼Œzig ä¼šå°†é”™è¯¯å †æ ˆè·Ÿè¸ªè¾“å‡ºåˆ°æ ‡å‡†é”™è¯¯è¾“å‡ºï¼Œå¹¶åœ¨æ‰€æœ‰æµ‹è¯•è¿è¡Œåå°†æŠ¥å‘Šå¤±è´¥æ•°ç›®ã€‚</p></div><h2 id="åµŒå¥—æµ‹è¯•" tabindex="-1">åµŒå¥—æµ‹è¯• <a class="header-anchor" href="#åµŒå¥—æµ‹è¯•" aria-label="Permalink to &quot;åµŒå¥—æµ‹è¯•&quot;">â€‹</a></h2><p><code>zig test</code> æ‰§è¡Œæ—¶ä¼šä»…æ‰§è¡Œæ–‡ä»¶å†…çš„é¡¶çº§æµ‹è¯•å—ï¼Œå¦‚æœæƒ³æ‰§è¡Œéé¡¶çº§çš„æµ‹è¯•å—ï¼Œåˆ™å¯ä»¥å®šä¹‰ä¸€ä¸ªåå­—ä¸ºç©ºçš„å®šä¹‰æµ‹è¯•å—ï¼Œåœ¨å…¶å†…éƒ¨å¼•ç”¨ä½ éœ€è¦æ‰§è¡Œæµ‹è¯•çš„å®¹å™¨å³å¯ã€‚</p><div class="language-zig vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;std&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">testing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">testing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">refAllDecls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    _</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">U</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;S demo test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> SE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        V</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æ­¤å¤„æµ‹è¯•ç”±äºæœªè¢«å¼•ç”¨ï¼Œå°†ä¸ä¼šæ‰§è¡Œ.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;This Test Won&#39;t Run&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            try</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> U</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">union</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// U è¢«é¡¶å±‚æµ‹è¯•å—å¼•ç”¨äº†</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">US</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¹¶ä¸”USåœ¨æ­¤å¤„è¢«å¼•ç”¨ï¼Œåˆ™USå®¹å™¨ä¸­çš„æµ‹è¯•å—ä¹Ÿä¼šè¢«æ‰§è¡Œæµ‹è¯•</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> US</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;U.US demo test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // This test is a top-level test declaration for the struct.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // The struct is nested (declared) inside of a union.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            try</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;U demo test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>æ³¨æ„ï¼ŒåµŒå¥—å¼•ç”¨æµ‹è¯•åœ¨å…¨å±€æµ‹è¯•å—ä¸­å¼•ç”¨å¦ä¸€ä¸ªå®¹å™¨åï¼Œå¹¶ä¸ä¼šé€’å½’ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»…ä»…ä¼šæ‰§è¡Œå®¹å™¨çš„é¡¶å±‚æµ‹è¯•å—å’Œå®ƒå¼•ç”¨çš„å®¹å™¨çš„é¡¶å±‚æµ‹è¯•å—ã€‚</p><div class="info custom-block"><p class="custom-block-title">ğŸ…¿ï¸ æç¤º</p><p>zig çš„æ ‡å‡†åº“è¿˜ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå‡½æ•° <code>std.testing.refAllDecls</code>ï¼Œä¸“é—¨å¤„ç†ä¸Šé¢è¿™ç§è¯­æ³•ï¼ˆ <code>_=...</code> è¿™ç§è¯­æ³•çœ‹èµ·æ¥å¹¶ä¸å¥½çœ‹ï¼‰ã€‚</p><p>ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>std.testing.refAllDecls</code> çš„å®ç°å¦‚ä¸‹ï¼š</p><div class="language-zig vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">pub</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> refAllDecls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comptime</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">builtin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">is_test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    inline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comptime</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">declarations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">decl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        _</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">decl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>å®ƒæ‰€ä½¿ç”¨çš„ <code>std.meta.declarations</code> åªèƒ½è·å–åˆ°å…¬å…±æˆå‘˜ï¼ˆå³è¢« <code>pub</code> ä¿®é¥°çš„ï¼‰ï¼Œéå…¬å…±æˆå‘˜éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ä»¥ <code>_ = ..</code> å½¢å¼å¼•å…¥æµ‹è¯•ã€‚</p></div><h2 id="è·³è¿‡æµ‹è¯•" tabindex="-1">è·³è¿‡æµ‹è¯• <a class="header-anchor" href="#è·³è¿‡æµ‹è¯•" aria-label="Permalink to &quot;è·³è¿‡æµ‹è¯•&quot;">â€‹</a></h2><p>è·³è¿‡æµ‹è¯•çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ <code>zig test</code> å‘½ä»¤è¡Œå‚æ•° <code>--test-filter [text]</code> å°†å…¶è¿‡æ»¤æ‰ã€‚è¿™ä½¿å¾—æµ‹è¯•æ„å»ºä»…åŒ…å«åç§°åŒ…å«æä¾›çš„è¿‡æ»¤å™¨æ–‡æœ¬çš„æµ‹è¯•ã€‚è¯·æ³¨æ„ï¼Œå³ä½¿ä½¿ç”¨ <code>--test-filter [text]</code> å‘½ä»¤è¡Œå‚æ•°ï¼Œä¹Ÿä¼šè¿è¡Œéå‘½åæµ‹è¯•ï¼ˆåå­—ä¸ºç©ºçš„æµ‹è¯•å—ï¼‰ã€‚</p><p>è¦ä»¥ç¼–ç¨‹æ–¹å¼è·³è¿‡æµ‹è¯•ï¼Œè¯·ä½¿æµ‹è¯•è¿”å›é”™è¯¯ <code>error.SkipZigTest</code> å¹¶ä¸”é»˜è®¤æµ‹è¯•è¿è¡Œç¨‹åºå°†è®¤ä¸ºè¯¥æµ‹è¯•è¢«è·³è¿‡ã€‚æ‰€æœ‰æµ‹è¯•è¿è¡Œåï¼Œå°†æŠ¥å‘Šè·³è¿‡çš„æµ‹è¯•æ€»æ•°ã€‚</p><h2 id="æ£€æµ‹å†…å­˜æ³„æ¼" tabindex="-1">æ£€æµ‹å†…å­˜æ³„æ¼ <a class="header-anchor" href="#æ£€æµ‹å†…å­˜æ³„æ¼" aria-label="Permalink to &quot;æ£€æµ‹å†…å­˜æ³„æ¼&quot;">â€‹</a></h2><p>åœ¨æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>std.testing.allocator</code> è¿™ä¸ªå†…å­˜åˆ†é…å™¨æ¥æ£€æµ‹å†…å­˜æ³„æ¼ï¼Œé»˜è®¤æµ‹è¯•å™¨å°†æŠ¥å‘Šä½¿ç”¨è¯¥åˆ†é…å™¨å‘ç°çš„ä»»ä½•å†…å­˜æ³„æ¼ã€‚</p><h2 id="æ£€æŸ¥æµ‹è¯•æ¨¡å¼" tabindex="-1">æ£€æŸ¥æµ‹è¯•æ¨¡å¼ <a class="header-anchor" href="#æ£€æŸ¥æµ‹è¯•æ¨¡å¼" aria-label="Permalink to &quot;æ£€æŸ¥æµ‹è¯•æ¨¡å¼&quot;">â€‹</a></h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>@import(&quot;builtin&quot;).is_test</code> æ¥æŸ¥çœ‹å½“å‰æ˜¯å¦è¿è¡Œåœ¨æµ‹è¯•å™¨ä¸‹ã€‚</p>`,21),k=[t];function l(p,e,E,d,r,g){return a(),i("div",null,k)}const c=s(h,[["render",l]]);export{F as __pageData,c as default};
