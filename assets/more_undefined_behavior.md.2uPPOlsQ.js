import{_ as s,c as i,o as a,U as t}from"./chunks/framework.vKaV7pYm.js";const c=JSON.parse('{"title":"æœªå®šä¹‰æ“ä½œ","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"more/undefined_behavior.md","filePath":"more/undefined_behavior.md","lastUpdated":1704979746000}'),n={name:"more/undefined_behavior.md"},h=t(`<h1 id="æœªå®šä¹‰æ“ä½œ" tabindex="-1">æœªå®šä¹‰æ“ä½œ <a class="header-anchor" href="#æœªå®šä¹‰æ“ä½œ" aria-label="Permalink to &quot;æœªå®šä¹‰æ“ä½œ&quot;">â€‹</a></h1><p>zig æœ¬èº«æœ‰è®¸å¤šæœªå®šä¹‰è¡Œä¸ºï¼Œå®ƒä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¸®åŠ©å¼€å‘è€…æ‰¾å‡ºé”™è¯¯ã€‚</p><p>å¦‚æœåœ¨ç¼–è¯‘æœŸå°±æ£€æµ‹åˆ°äº†æœªå®šä¹‰çš„è¡Œä¸ºï¼Œé‚£ä¹ˆ zig ä¼šå‘å‡ºç¼–è¯‘é”™è¯¯å¹¶åœæ­¢ç»§ç»­ç¼–è¯‘ï¼Œå¤§å¤šæ•°ç¼–è¯‘æ—¶æ— æ³•æ£€æµ‹åˆ°çš„æœªå®šä¹‰è¡Œä¸ºå‡ä¼šåœ¨è¿è¡Œæ—¶è¢«æ£€æµ‹åˆ°ã€‚è¿™å°±æ˜¯ zig çš„å®‰å…¨æ£€æŸ¥ï¼</p><p>å®‰å…¨æ£€æŸ¥ä¼šåœ¨debugã€ReleaseSafe æ¨¡å¼ä¸‹å¼€å¯ï¼Œä½†å¯ä»¥ä½¿ç”¨ <a href="https://ziglang.org/documentation/master/#setRuntimeSafety" target="_blank" rel="noreferrer"><code>@setRuntimeSafety</code></a> æ¥å¼ºåˆ¶æŒ‡å®šåœ¨å•ç‹¬çš„å—ä¸­æ˜¯å¦å¼€å¯å®‰å…¨æ£€æŸ¥ï¼ˆè¿™å°†å¿½ç•¥æ„å»ºæ¨¡å¼ï¼‰ã€‚</p><p>å½“å‡ºç°å®‰å…¨æ£€æŸ¥å¤±è´¥æ—¶ï¼Œzig ä¼šç¼–è¯‘å¤±è´¥å¹¶è§¦å‘å †æ ˆè·Ÿè¸ªï¼š</p><div class="language-zig vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;safety check&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    unreachable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zig</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test_undefined_behavior.zig</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test.safety</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> thread</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 892159</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> panic:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reached</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unreachable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> code</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/home/ci/actions-runner/_work/zig-bootstrap/zig/docgen_tmp/test_undefined_behavior.zig:2:5:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x222c65</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test.safety</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (test)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    unreachable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ^</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/home/ci/actions-runner/_work/zig-bootstrap/out/host/lib/zig/test_runner.zig:181:28:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x22da7d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mainTerminal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (test)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test_fn.func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                           ^</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/home/ci/actions-runner/_work/zig-bootstrap/out/host/lib/zig/test_runner.zig:36:28:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x223c8a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (test)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mainTerminal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                           ^</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/home/ci/actions-runner/_work/zig-bootstrap/out/host/lib/zig/std/start.zig:575:22:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x22319c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> posixCallMainAndExit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (test)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            root.main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                     ^</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/home/ci/actions-runner/_work/zig-bootstrap/out/host/lib/zig/std/start.zig:253:5:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x222cf1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> _start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (test)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    asm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> volatile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (switch (native_arch) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ^</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">???</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: 0x0 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ???</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">???</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> following</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> command</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> crashed:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/home/ci/actions-runner/_work/zig-bootstrap/out/zig-local-cache/o/4558e134302b78f1a543202d094b3e06/test</span></span></code></pre></div><p>ä»¥ä¸‹è¯´æ˜å„ç§æœªå®šä¹‰è¡Œä¸ºã€‚</p><h2 id="ä¸å¯è¾¾ä»£ç " tabindex="-1">ä¸å¯è¾¾ä»£ç  <a class="header-anchor" href="#ä¸å¯è¾¾ä»£ç " aria-label="Permalink to &quot;ä¸å¯è¾¾ä»£ç &quot;">â€‹</a></h2><p>å³ <code>unreachabel</code>ï¼Œå¦‚æœç¨‹åºæ‰§è¡Œåˆ°å®ƒï¼Œé‚£ä¹ˆä¼šè§¦å‘å®Œæ•´çš„å †æ ˆè·Ÿè¸ªï¼</p><h2 id="ç´¢å¼•è¶Šç•Œè®¿é—®" tabindex="-1">ç´¢å¼•è¶Šç•Œè®¿é—® <a class="header-anchor" href="#ç´¢å¼•è¶Šç•Œè®¿é—®" aria-label="Permalink to &quot;ç´¢å¼•è¶Šç•Œè®¿é—®&quot;">â€‹</a></h2><p>æ— è®ºæ˜¯æ•°ç»„è¿˜æ˜¯åˆ‡ç‰‡ï¼Œå‘ç”Ÿè¶Šç•Œè®¿é—®ä¼šå‘ç”Ÿé”™è¯¯å¯¼è‡´ç¨‹åºç»ˆæ­¢è¿›è€Œè§¦å‘å †æ ˆè·Ÿè¸ªï¼</p><h2 id="è´Ÿæ•°è½¬æ¢ä¸ºæ— ç¬¦å·æ•´æ•°" tabindex="-1">è´Ÿæ•°è½¬æ¢ä¸ºæ— ç¬¦å·æ•´æ•° <a class="header-anchor" href="#è´Ÿæ•°è½¬æ¢ä¸ºæ— ç¬¦å·æ•´æ•°" aria-label="Permalink to &quot;è´Ÿæ•°è½¬æ¢ä¸ºæ— ç¬¦å·æ•´æ•°&quot;">â€‹</a></h2><p>è¿™æœ¬èº«å°±æ˜¯éæ³•è¡Œä¸ºï¼Œæ•…ä¼šç›´æ¥å‡ºç°æŠ¥é”™ï¼Œå¦‚æœä»…ä»…æ˜¯æƒ³è¦å°†è´Ÿæ•°å½“ä½œæ— ç¬¦å·æ•´æ•°çœ‹å¾…ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://ziglang.org/documentation/master/#bitCast" target="_blank" rel="noreferrer"><code>@bitCast</code></a>ã€‚</p><p>å¦‚æœæƒ³è¦è·å–åˆ°æ— ç¬¦å·æ•´æ•°çš„æœ€å¤§å€¼ï¼Œå¯ä»¥ä½¿ç”¨ <code>std.math.maxInt</code>ã€‚</p><h2 id="æ•°æ®æˆªæ–­" tabindex="-1">æ•°æ®æˆªæ–­ <a class="header-anchor" href="#æ•°æ®æˆªæ–­" aria-label="Permalink to &quot;æ•°æ®æˆªæ–­&quot;">â€‹</a></h2><p>æ³¨æ„æˆ‘ä»¬è¿™é‡ŒæŒ‡çš„æ˜¯æ•°æ®ç±»å‹çš„èŒƒå›´å˜å°äº†ï¼Œä¸è¶³ä»¥å®¹çº³æ•°æ®çš„å€¼ï¼Œä¾‹å¦‚ï¼š</p><div class="language-zig vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> spartan_count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">u16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">u8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@intCast</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">spartan_count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>ä¸Šé¢è¿™æ®µä»£ç æ¯«æ— ç–‘é—®ä¼šå¤±è´¥ï¼Œå› ä¸º <code>u8</code> ç±»å‹æ— æ³•å®¹çº³ä¸‹ 300 è¿™ä¸ªæ•°ã€‚</p><p>é™¤éï¼Œæˆ‘ä»¬æ˜¾ç¤ºå¼ºåˆ¶æˆªæ–­ä½ï¼Œä½¿ç”¨ <a href="https://ziglang.org/documentation/master/#truncate" target="_blank" rel="noreferrer"><code>@truncate</code></a>ã€‚</p><h2 id="æ•´æ•°æº¢å‡º" tabindex="-1">æ•´æ•°æº¢å‡º <a class="header-anchor" href="#æ•´æ•°æº¢å‡º" aria-label="Permalink to &quot;æ•´æ•°æº¢å‡º&quot;">â€‹</a></h2><p>å¸¸è§„çš„è¿ç®—å¯èƒ½å¯¼è‡´æº¢å‡ºï¼Œå¦‚åŠ  <code>+</code> å‡ <code>-</code> ä¹˜ <code>*</code> é™¤ <code>/</code> å–å <code>-</code> è¿ç®—å¯èƒ½å‡ºç°æº¢å‡ºã€‚</p><p>è¿˜æœ‰ <a href="https://ziglang.org/documentation/master/#divTrunc" target="_blank" rel="noreferrer"><code>@divTrunc</code></a>ã€<a href="https://ziglang.org/documentation/master/#divFloor" target="_blank" rel="noreferrer"><code>@divFloor</code></a>ã€<a href="https://ziglang.org/documentation/master/#divExact" target="_blank" rel="noreferrer"><code>@divExact</code></a>ï¼Œå¯èƒ½é€ æˆæº¢å‡ºã€‚</p><p>æ ‡å‡†åº“æä¾›çš„å‡½æ•°å¯èƒ½å­˜åœ¨æº¢å‡ºï¼š</p><ul><li><code>@import(&quot;std&quot;).math.add</code></li><li><code>@import(&quot;std&quot;).math.sub</code></li><li><code>@import(&quot;std&quot;).math.mul</code></li><li><code>@import(&quot;std&quot;).math.divTrunc</code></li><li><code>@import(&quot;std&quot;).math.divFloor</code></li><li><code>@import(&quot;std&quot;).math.divExact</code></li><li><code>@import(&quot;std&quot;).math.shl</code></li></ul><p>ä¸ºäº†å¤„ç†è¿™äº›æƒ…å†µï¼Œzig æä¾›äº†å‡ ä¸ªæº¢å‡ºæ£€æµ‹å‡½æ•°æ¥å¤„ç†æº¢å‡ºé—®é¢˜ï¼š</p><ul><li><a href="https://ziglang.org/documentation/master/#addWithOverflow" target="_blank" rel="noreferrer"><code>@addWithOverflow</code></a></li><li><a href="https://ziglang.org/documentation/master/#subWithOverflow" target="_blank" rel="noreferrer"><code>@subWithOverflow</code></a></li><li><a href="https://ziglang.org/documentation/master/#mulWithOverflow" target="_blank" rel="noreferrer"><code>@mulWithOverflow</code></a></li><li><a href="https://ziglang.org/documentation/master/#shlWithOverflow" target="_blank" rel="noreferrer"><code>@shlWithOverflow</code></a></li></ul><p>ä»¥ä¸Šè¿™äº›å†…å»ºå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå…ƒç»„ï¼ŒåŒ…å«è®¡ç®—çš„ç»“æœå’Œæ˜¯å¦å‘ç”Ÿæº¢å‡ºçš„åˆ¤æ–­ä½ã€‚</p><div class="language-zig vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;std&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">debug</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">pub</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">u8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">255</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> ov</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@addWithOverflow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ov</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;overflowed result: {}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, .{</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ov</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;result: {}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, .{</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ov</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>é™¤æ­¤ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ç¯ç»•ï¼ˆ<strong>Wrapping</strong>ï¼‰æ“ä½œæ¥å¤„ç†è®¡ç®—ï¼š</p><ul><li><code>+%</code> åŠ æ³•ç¯ç»•</li><li><code>-%</code> å‡æ³•ç¯ç»•</li><li><code>-%</code> å–å¦ç¯ç»•</li><li><code>*%</code> ä¹˜æ³•ç¯ç»•</li></ul><p>å®ƒä»¬ä¼šå–è®¡ç®—åæº¢å‡ºçš„å€¼ï¼</p><h2 id="ç§»ä½æº¢å‡º" tabindex="-1">ç§»ä½æº¢å‡º <a class="header-anchor" href="#ç§»ä½æº¢å‡º" aria-label="Permalink to &quot;ç§»ä½æº¢å‡º&quot;">â€‹</a></h2><p>è¿›è¡Œå·¦ç§»æ“ä½œæ—¶ï¼Œå¯èƒ½å¯¼è‡´ç»“æœæº¢å‡ºï¼Œæ­¤æ—¶ç¨‹åºæˆ–è€…ç¼–è¯‘å™¨ä¼šåœæ­¢å¹¶å‘å‡ºè­¦å‘Šï¼</p><h2 id="é™¤é›¶æ“ä½œ" tabindex="-1">é™¤é›¶æ“ä½œ <a class="header-anchor" href="#é™¤é›¶æ“ä½œ" aria-label="Permalink to &quot;é™¤é›¶æ“ä½œ&quot;">â€‹</a></h2><p>å¾ˆæ˜¾ç„¶ï¼Œé™¤é›¶æ˜¯éæ³•æ“ä½œï¼Œæ•…ä¼šå¼•èµ·ç¨‹åºæˆ–è€…ç¼–è¯‘å™¨æŠ¥é”™ï¼</p><p>å½“ç„¶ï¼Œè¿˜åŒ…æ‹¬æ±‚ä½™è¿ç®—ï¼Œé™¤æ•°ä¸ºé›¶æ˜¯ä¹Ÿæ˜¯éæ³•çš„ï¼</p><h2 id="ç²¾ç¡®é™¤æ³•æº¢å‡º" tabindex="-1">ç²¾ç¡®é™¤æ³•æº¢å‡º <a class="header-anchor" href="#ç²¾ç¡®é™¤æ³•æº¢å‡º" aria-label="Permalink to &quot;ç²¾ç¡®é™¤æ³•æº¢å‡º&quot;">â€‹</a></h2><p>ç²¾ç¡®é™¤æ³•ä½¿ç”¨çš„æ˜¯ <a href="https://ziglang.org/documentation/master/#divExact" target="_blank" rel="noreferrer"><code>@divExact</code></a>ï¼Œå®ƒéœ€è¦ä¿è¯è¢«é™¤æ•°å¯ä»¥æ•´é™¤é™¤æ•°ï¼Œå¦åˆ™ä¼šè§¦å‘ç¼–è¯‘å™¨é”™è¯¯ï¼</p><h2 id="å°è¯•è§£å¼€å¯é€‰ç±»å‹-null" tabindex="-1">å°è¯•è§£å¼€å¯é€‰ç±»å‹ Null <a class="header-anchor" href="#å°è¯•è§£å¼€å¯é€‰ç±»å‹-null" aria-label="Permalink to &quot;å°è¯•è§£å¼€å¯é€‰ç±»å‹ Null&quot;">â€‹</a></h2><p>å¯é€‰ç±»å‹å€¼æ˜¯ <code>null</code> æ—¶ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨ <code>variable.?</code> è¯­æ³•æ¥è§£å¼€å¯é€‰ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´å‡ºç°é”™è¯¯ï¼</p><p>æ­£ç¡®çš„å¤„ç†æ–¹æ¡ˆæ˜¯ä½¿ç”¨ <a href="./../basic/process_control/decision.html#è§£æ„å¯é€‰ç±»å‹"><code>if</code> è¯­æ³•</a>æ¥è§£å¼€å¯é€‰ç±»å‹ã€‚</p><h2 id="å°è¯•è§£å¼€é”™è¯¯è”åˆç±»å‹-error" tabindex="-1">å°è¯•è§£å¼€é”™è¯¯è”åˆç±»å‹ Error <a class="header-anchor" href="#å°è¯•è§£å¼€é”™è¯¯è”åˆç±»å‹-error" aria-label="Permalink to &quot;å°è¯•è§£å¼€é”™è¯¯è”åˆç±»å‹ Error&quot;">â€‹</a></h2><p>é”™è¯¯è”åˆç±»å‹å¦‚æœæ˜¯ <code>error</code> æ—¶ï¼Œç›´æ¥ä½¿ç”¨å®ƒä¼šå¯¼è‡´ç¨‹åºæˆ–è€…ç¼–è¯‘å™¨åœæ­¢è¿è¡Œï¼</p><p>æ­£ç¡®çš„å¤„ç†æ–¹æ¡ˆæ˜¯ä½¿ç”¨ <a href="./../basic/process_control/decision.html#è§£æ„é”™è¯¯è”åˆç±»å‹"><code>if</code> è¯­æ³•</a>æ¥è§£å¼€å¯é€‰ç±»å‹ã€‚</p><h2 id="æ— æ•ˆé”™è¯¯ç " tabindex="-1">æ— æ•ˆé”™è¯¯ç  <a class="header-anchor" href="#æ— æ•ˆé”™è¯¯ç " aria-label="Permalink to &quot;æ— æ•ˆé”™è¯¯ç &quot;">â€‹</a></h2><p>ä½¿ç”¨ <a href="https://ziglang.org/documentation/master/#errorFromInt" target="_blank" rel="noreferrer"><code>@errorFromInt</code></a> è·å–é”™è¯¯æ—¶ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”æ•´æ•°çš„é”™è¯¯ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´ç¨‹åºæˆ–ç¼–è¯‘å™¨æŠ¥é”™ï¼</p><h2 id="æ— æ•ˆæšä¸¾è½¬æ¢" tabindex="-1">æ— æ•ˆæšä¸¾è½¬æ¢ <a class="header-anchor" href="#æ— æ•ˆæšä¸¾è½¬æ¢" aria-label="Permalink to &quot;æ— æ•ˆæšä¸¾è½¬æ¢&quot;">â€‹</a></h2><p>å½“ä½¿ç”¨ <a href="https://ziglang.org/documentation/master/#enumFromInt" target="_blank" rel="noreferrer"><code>@enumFromInt</code></a> æ¥è·å–æšä¸¾æ—¶ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”æ•´æ•°çš„æšä¸¾ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´ç¨‹åºæˆ–è€…ç¼–è¯‘å™¨æŠ¥å‘Šé”™è¯¯ï¼</p><h2 id="æ— æ•ˆé”™è¯¯é›†åˆè½¬æ¢" tabindex="-1">æ— æ•ˆé”™è¯¯é›†åˆè½¬æ¢ <a class="header-anchor" href="#æ— æ•ˆé”™è¯¯é›†åˆè½¬æ¢" aria-label="Permalink to &quot;æ— æ•ˆé”™è¯¯é›†åˆè½¬æ¢&quot;">â€‹</a></h2><p>ä¸¤ä¸ªä¸ç›¸å…³çš„é”™è¯¯é›†ä¸å¯ä»¥ç›¸äº’è½¬æ¢ï¼Œå¦‚æœå¼ºåˆ¶ä½¿ç”¨ <a href="https://ziglang.org/documentation/master/#errorCast" target="_blank" rel="noreferrer"><code>@errorCast</code></a>è½¬æ¢ä¸¤ä¸ªä¸ç›¸å…³çš„é”™è¯¯é›†ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´ç¨‹åºæˆ–è€…ç¼–è¯‘å™¨æŠ¥å‘Šé”™è¯¯ï¼</p><h2 id="æŒ‡é’ˆå¯¹é½é”™è¯¯" tabindex="-1">æŒ‡é’ˆå¯¹é½é”™è¯¯ <a class="header-anchor" href="#æŒ‡é’ˆå¯¹é½é”™è¯¯" aria-label="Permalink to &quot;æŒ‡é’ˆå¯¹é½é”™è¯¯&quot;">â€‹</a></h2><p>æŒ‡é’ˆå¯¹é½è½¬æ¢å¯èƒ½å‘ç”Ÿé”™è¯¯ï¼Œå¦‚ï¼š</p><div class="language-zig vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> ptr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*align</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">i32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@ptrFromInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> aligned</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*align</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">i32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@alignCast</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ptr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p><code>0x1</code> åœ°å€å¾ˆæ˜æ˜¾æ˜¯ä¸ç¬¦åˆ 4 å­—èŠ‚å¯¹é½ï¼Œä¼šå¯¼è‡´ç¼–è¯‘å™¨é”™è¯¯ã€‚</p><h2 id="è”åˆç±»å‹å­—æ®µè®¿é—®é”™è¯¯" tabindex="-1">è”åˆç±»å‹å­—æ®µè®¿é—®é”™è¯¯ <a class="header-anchor" href="#è”åˆç±»å‹å­—æ®µè®¿é—®é”™è¯¯" aria-label="Permalink to &quot;è”åˆç±»å‹å­—æ®µè®¿é—®é”™è¯¯&quot;">â€‹</a></h2><p>å¦‚æœè®¿é—®çš„è”åˆç±»å‹å­—æ®µå¹¶éæ˜¯å®ƒå½“å‰çš„æœ‰æ•ˆå­—æ®µï¼Œé‚£ä¹ˆä¼šè§¦å‘éæ³•è¡Œä¸ºï¼</p><p>å¯ä»¥é€šè¿‡é‡æ–°åˆ†é…æ¥æ›´æ”¹è”åˆç±»å‹çš„æœ‰æ•ˆå­—æ®µï¼š</p><div class="language-zig vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> Foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">union</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">u32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">42</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ .</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12.34</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">ğŸ…¿ï¸ æç¤º</p><p>æ³¨æ„ï¼špacked å’Œ extern æ ‡è®°çš„è”åˆç±»å‹å¹¶æ²¡æœ‰è¿™ç§å®‰å…¨ç›‘æµ‹ï¼</p></div><h2 id="æµ®ç‚¹è½¬æ¢æ•´æ•°å‘ç”Ÿè¶Šç•Œ" tabindex="-1">æµ®ç‚¹è½¬æ¢æ•´æ•°å‘ç”Ÿè¶Šç•Œ <a class="header-anchor" href="#æµ®ç‚¹è½¬æ¢æ•´æ•°å‘ç”Ÿè¶Šç•Œ" aria-label="Permalink to &quot;æµ®ç‚¹è½¬æ¢æ•´æ•°å‘ç”Ÿè¶Šç•Œ&quot;">â€‹</a></h2><p>å½“å°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºæ•´æ•°æ—¶ï¼Œå¦‚æœæµ®ç‚¹æ•°çš„å€¼è¶…å‡ºäº†æ•´æ•°ç±»å‹çš„èŒƒå›´ï¼Œå°±ä¼šå‘ç”Ÿéæ³•è¶Šç•Œï¼Œä¾‹å¦‚ï¼š</p><div class="language-zig vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4294967296</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">i32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@intFromFloat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="æŒ‡é’ˆå¼ºåˆ¶è½¬æ¢ä¸º-null" tabindex="-1">æŒ‡é’ˆå¼ºåˆ¶è½¬æ¢ä¸º Null <a class="header-anchor" href="#æŒ‡é’ˆå¼ºåˆ¶è½¬æ¢ä¸º-null" aria-label="Permalink to &quot;æŒ‡é’ˆå¼ºåˆ¶è½¬æ¢ä¸º Null&quot;">â€‹</a></h2><p>å°†å…è®¸åœ°å€ä¸º 0 çš„æŒ‡é’ˆè½¬æ¢ä¸ºåœ°å€ä¸å¯èƒ½ä¸º 0 çš„æŒ‡é’ˆï¼Œè¿™ä¼šè§¦å‘éæ³•è¡Œä¸ºã€‚</p><p>C æŒ‡é’ˆã€å¯é€‰æŒ‡é’ˆã€<code>allowzero</code> æ ‡è®°çš„æŒ‡é’ˆï¼Œè¿™äº›éƒ½æ˜¯å…è®¸åœ°å€ä¸º 0ï¼Œä½†æ™®é€šæŒ‡é’ˆæ˜¯ä¸å…è®¸çš„ã€‚</p>`,66),l=[h];function e(k,p,r,d,o,E){return a(),i("div",null,l)}const F=s(n,[["render",e]]);export{c as __pageData,F as default};
